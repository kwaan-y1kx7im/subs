mode: global  #rule
port: 7890
socks-port: 7891
allow-lan: true
log-level: silent  #info

proxies:

proxy-providers:
  nekobox:
    type: http
    url: "https://raw.gitmirror.com/kwaan-y1kx7im/subscription/main/opensources/nekobox"
    filter: ""
    interval: "60"
    path: "./nekobox.yaml"
    health-check:
      enable: true
      interval: "100"
      url: "http://www.gstatic.com/generate_204"

  ymlshare:
    type: http
    url: "https://raw.gitmirror.com/kwaan-y1kx7im/subscription/main/opensources/ymlshare"
    filter: ""
    interval: "60"
    path: "./ymlshare.yaml"
    health-check:
      enable: true
      interval: "100"
      url: "http://www.gstatic.com/generate_204"

  hutaocloud:
    type: http
    url: "https://hutaod.com/link/QBrmvCnuY4zWJlis?clash=1"
    filter: "新加坡|美国|日本"
    interval: "60"
    path: "./hutaocloud.yaml"
    health-check:
      enable: true
      interval: "100"
      url: "http://www.gstatic.com/generate_204"

  gitcloud:
    type: http
    url: "https://api.v1.mk/sub?target=clash&url=https%3A%2F%2Fraw.gitmirror.com%2FHuibq%2FTrojanLinks%2Fmaster%2Flinks%2Ftrojan&insert=false&config=https%3A%2F%2Fraw.githubusercontent.com%2FACL4SSR%2FACL4SSR%2Fmaster%2FClash%2Fconfig%2FACL4SSR_Online_Full_AdblockPlus.ini&interval=1296000&sort=true&emoji=true&list=true&udp=true&tfo=false&expand=true&scv=true&fdn=true&surge.doh=true&clash.doh=true&new_name=true"
    filter: "SG|JP|US"
    interval: "60"
    path: "./gitcloud.yaml"
    health-check:
      enable: true
      interval: "100"
      url: "http://www.gstatic.com/generate_204"

  clash-yml:
    type: http
    url: "https://dingyue.cloudaccess.icu/api/v1/client/subscribe?token=354b9a500c4424b2651f8593e39d3de6&flag=clash"
    filter: "SG|US|JP"
    interval: "60"
    path: "./x.yaml"
    health-check:
      enable: true
      interval: "100"
      url: "http://www.gstatic.com/generate_204"

  clash-yaml:
    type: http
    url: "https://sub1.timeneverchanges.com/api/v1/client/subscribe?token=5989520ca601a3caff2715e87a88f82d"
    filter: ""
    interval: "60"
    path: "./x.yaml"
    health-check:
      enable: true
      interval: "100"
      url: "http://www.gstatic.com/generate_204"

proxy-groups:

  - name: 😀 allin1
    type: select
    proxies:
      - DIRECT
      - 🚩 花錢の｜单选
      - 📡 免費🆓の｜单选
      - ♻️ gitcloud🆓
      - ♻️ 花錢の｜随机
      - ♻️ 免費🆓の｜随机

  - name: 🚩 花錢の｜单选
    type: select
    proxies:
    use:
      - nekobox

  - name: 📡 免費🆓の｜单选
    type: select
    use:
      - ymlshare
      - clash-yml
      - clash-yaml

  - name: ♻️ gitcloud🆓
    type: fallback
    url: "http://www.gstatic.com/generate_204"
    interval: "100"
    use:
      - gitcloud

  - name: ♻️ 花錢の｜随机
    type: url-test
    url: "http://www.gstatic.com/generate_204"
    interval: "100"
    use:
      - hutaocloud

  - name: ♻️ 免費🆓の｜随机
    type: url-test
    url: "http://www.gstatic.com/generate_204"
    interval: "100"
    use:
      - ymlshare
      - clash-yml
      - clash-yaml

  - name: 📵 广告拦截
    type: select
    proxies:
      - REJECT

rules:
  - 'GEOIP,LAN,DIRECT'
  - 'GEOIP,CN,DIRECT'
  - 'MATCH,😀 allin1'
  - 'DOMAIN-KEYWORD,githubusercontent.com,😀 allin1'
  - 'DOMAIN-KEYWORD,googleadadpis.com,📵 广告拦截'
  - 'DOMAIN-KEYWORD,googletagmanager.com,📵 广告拦截'
  - 'DOMAIN-KEYWORD,google-analytics.com,📵 广告拦截'

